syntax = "proto3";

package pb;

message AddGoodReq {
  string name = 1;
  float price = 2;
  int64 type = 3;
  string pictureStorePath = 4;
  repeated string optionClassNames = 5;
}

message AddGoodRes {}

message SellGoodReq {
  string goodName = 1;
  float sellPrice = 2;
}

message SellGoodRes {}

message AddBilliardDeskReq {
  string billiardDeskName = 1;
}

message AddBilliardDeskRes {}

message BeginPlayBilliardReq {
  string billiardDeskName = 1;
  int64 beginPlayTimestamp = 2;
}

message BeginPlayBilliardRes {}

message StopPlayBilliardReq {
  string billiardDeskName = 1;
  int64 beginPlayTimestamp = 2;
  int64  stopPlayTimestamp = 3;
}

message StopPlayBilliardRes {}

message AttachGood{
  string name = 1;
}

message Good{
  string name = 1;
  string pictureStorePath = 2;
  float price = 3;
  int64 type = 4;
  repeated optionClass optionClasses = 5;
}

message AttachGoodArray {
  repeated AttachGood attachGoods = 1;
}

message OrderReq{
  repeated Good goods = 1;
}

message OrderRes{
  int64 orderID = 1;
}

message GetOrderGoodsReq{
  int64 orderID = 1;
}

message GetOrderGoodsRes{
  repeated Good goods = 1;
}


message AddGoodTypeReq {
  string typeName = 1;
}

message AddGoodTypeRes {}

message CheckoutReq {
  int64 orderID = 1;
}

message CheckoutRes{
  float price = 1;
}

message AddOptionClassReq{
  string optionClassName = 1;
  repeated string options = 2;
}

message AddOptionClassRes{}

message GetAllOptionClassesReq{}

message GetAllOptionClassesRes{
  repeated optionClass optionClasses = 1;
}

message optionClass {
  string className = 1;
  int32 defaultSelectOptionIndex = 2;
  repeated string optionNames = 3;
}

message DelOptionReq {
  string className = 1;
  string optionName = 2;
}

message DelOptionRes {
}


message GetAllGoodsReq{}

message GetAllGoodsRes{
  repeated Good goods = 1;
}

message DelOptionClassReq{
  repeated string optionClassNames = 1;
}

message DelOptionClassRes{}

service Mvp {
  rpc AddGood(AddGoodReq) returns (AddGoodRes);
  rpc AddBilliardDesk(AddBilliardDeskReq) returns (AddBilliardDeskRes);
  rpc SellGood(SellGoodReq) returns (SellGoodRes);
  rpc BeginPlayBilliard(BeginPlayBilliardReq) returns (BeginPlayBilliardRes);
  rpc StopPlayBilliard(StopPlayBilliardReq) returns (StopPlayBilliardRes);
  rpc Order(OrderReq) returns (OrderRes);
  rpc GetOrderGoods(GetOrderGoodsReq) returns (GetOrderGoodsRes);
  rpc AddGoodType(AddGoodTypeReq) returns (AddGoodTypeRes);
  rpc Checkout(CheckoutReq) returns (CheckoutRes);
  rpc AddOptionClass(AddOptionClassReq) returns (AddOptionClassRes);
  rpc GetAllOptionClasses(GetAllOptionClassesReq) returns (GetAllOptionClassesRes);
  rpc DelOption(DelOptionReq) returns (DelOptionRes);
  rpc GetAllGoods(GetAllGoodsReq) returns (GetAllGoodsRes);
  rpc DelOptionClass(DelOptionClassReq) returns (DelOptionClassRes);
}


